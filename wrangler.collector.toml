# Collector Worker 전용 설정
# Cron Job으로 배포: wrangler deploy --config wrangler.collector.toml workers/collector.ts

name = "coindrop-collector"
main = "workers/collector.ts"
compatibility_date = "2024-11-02"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "coindrop-db"
database_id = "" # 프로덕션 DB ID
migrations_dir = "scripts/migrations"

# R2 Bucket
[[r2_buckets]]
binding = "R2_CONTENTS"
bucket_name = "coindrop-contents"

# KV Namespaces
[[kv_namespaces]]
binding = "KV_CACHE"
id = "" # 프로덕션 KV ID

# Queue Producer
[[queues.producers]]
queue = "q.generate"

# Cron Trigger (3시간마다 실행)
[[triggers.crons]]
cron = "0 */3 * * *"

# Secrets 없음 (외부 API만 호출)

